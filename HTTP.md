# HTTP基础知识

http是一个基于请求与响应模式的、无状态的、应用层的协议，基于TCP的连接方式，HTTP1.1版本中给出一种持续连接的机制。

#

# 常用的HTTP方法有哪些？
GET：用于请求访问已经北URI识别的资源，可以通过URL传参给服务器

POST：用于传输信息给服务器，功能与GRT类似，但一般推荐使用POST方式

PUT：传输文件，报文主体中包含文件内容，保存到对应的URI的位置

HEAD：获得报文首部，与GET方法类似，只是不返回报文主体，一般用于验证URI是否有效

DELETE：删除文件，与PUT方法想法，删除对应URI位置的文件

OPTIONS：查询相响应支持的HTTP方法

# GET和POST方法的区别

1、最直观的Get把数据请求的参数放在URL中，而Post则是通过request.body传递参数
2、GET请求在浏览器进行回退时是无害的，既不会再次进行提交请求，但是Post回再次提交请求
3、GET请求会被浏览器主动catch，而post不会
4、GET请求只能进行URL编码，但是Post支持多种编码方式
5、GET请求会被完整保留在浏览器的历史记录中，但是Post不会
6、GET请在URL中传送的参数室友长度限制的，而Post没有
7、对于参数类型，get只接受ASCII字符，Post没有限制
8、Get请求会将参数暴露，不能传递敏感信息，POST测不是

**对于Get请求来说，会产生一个数据包进行发送，但是Post会产生两个TCP数据包**
get请求中，浏览器会把http header个data一起发送出去，服务器响应200返回数据即可
Psot请求中，首先发送header过去打招呼与服务器建立连接，返回100给浏览器，然后浏览器再将data发送过去

因为Post分为两步进行数据发送，时间上会比get长一点，所以Get可能会比Post更有
最后，
并不是所有的Post请求都发送两次包，Firefox就只发一次。。。
都是不同浏览器厂商惹的祸，坑着我们这些开发者。

# HTTP请求报文与响应报文的格式
 请求报文：

1.     请求行：请求方法，URL，HTTP版本信息
2.     请求首部字段
3.     请求内容实体

响应报文：

1.     状态行：HTTP版本，状态码，状态码的原因短语
2.     响应首部字段
3.     响应内容实体


# 常见的HTTP响应状态码

1. 1XX， 指示信息。信息已收到，正在处理
2. 2XX，成功。 请求被成功接收、理解、接收
3. 3XX，重定向。请求必须进行更进一步的操作
4. 4XX，客户端错误。请求有语法错误或请求无法实现
5. 5XX，服务器端错区。服务器未能识别合法请求

1. 200：请求被正常处理
2. 204：请求被受理单无资源返回
3. 206：客户端只是请求资源的一部分，服务器支队请求的部分资源执行GET操作，响应报文中通过cotent-range指定范围资源。

- 301：永久重定向
- 302：临时重定向
- 303：明确表示客户端应当采用GET方法获取资源。
由于请求对应的资源存在着另一个URI，应使用GET方法定向获取请求的资源

- 304：发送附带条件请求时，条件不满足时返回，与重定向无关
- 307：临时重定向，与302类似，只是强制要求使用POST方法

- 400：请求报文语法错区，服务器无法识别
- 401：请求需要认证
- 403：请求的对应资源禁止被访问
- 404：服务器无法找到对应的资源

- 500：服务器内部错区
- 503：服务器正忙



# HTTP1.1版本新特性
1.默认持久连接节省通信量，只要客户端/服务器任一一段没有明确提出断开TCP连接，就一直保持连接，可以发送多次HTTP请求

2.管线化，客户端可以同时发出多个HTTP请求，而不用一个个等待响应

3.断点续传原理

# 常见HTTP首部字段

a.通用首部字段

-     Date：创建报文时间
-     Connection：连接的管理
-     Cache-Control：缓存的机制
-     Transfer-Encoding：报文主体的传输编码方式

b.请求首部字段

-     Host：请求资源所在服务器
-     Accept：可处理的媒体类型
-     Accept-Charset：可接受的字符集
-     Accept-Encoding：可接受的内容编码
-     Accept-Language：可接受的自然语言

c.响应首部字段
   Accept-Ranges：可接受的字节范围
   Location：令客户顿重新定向到URI
   Server：HTTP服务器的安装信息

d.实体首部字段

-     Allow：资源可支持的HTTP方法
-     Content-type：实体主类的类型
-     Content-Encoding：实体主体适用的编码方式
-     Content-Language：实体主体的自然语言
-     Content-Length：实体主体的的字节数
-     Content-Range：实体主体的位置范围，一般用于发出部分请求时使用


# HTTP的缺点与HTTPS

- a、通信使用明文不加密
- b、不验证通信方身份，可能遭到伪装
- c、无法验证报文完整性，可能被篡改

HTTPS就是HTTP加密处理（一般是SSL安全通信线路） + 认证 + 完整性保护

# HTTP优化
```
利用负载均衡优化和加速HTTP应用
利用HTTP Cache 来优化网站
```





